(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(n,t){},236:function(n,t,e){n.exports=e(500)},241:function(n,t,e){},242:function(n,t,e){},262:function(n,t){},295:function(n,t){},297:function(n,t){},312:function(n,t){},314:function(n,t){},322:function(n,t){},324:function(n,t){},334:function(n,t){},336:function(n,t){},344:function(n,t){},346:function(n,t){},354:function(n,t){},355:function(n,t){},357:function(n,t){},359:function(n,t){},361:function(n,t){},374:function(n,t){},379:function(n,t){},381:function(n,t){},390:function(n,t){},394:function(n,t){},395:function(n,t){},396:function(n,t){},403:function(n,t){},405:function(n,t){},410:function(n,t){},414:function(n,t){},415:function(n,t){},418:function(n,t){},424:function(n,t){},427:function(n,t){},429:function(n,t){},441:function(n,t){},443:function(n,t){},456:function(n,t){},458:function(n,t){},472:function(n,t){},474:function(n,t){},487:function(n,t){},489:function(n,t){},496:function(n,t){},500:function(n,t,e){"use strict";e.r(t);var a=e(13),o=e.n(a),c=e(227),i=e.n(c),u=(e(241),e(232)),r=e(235),s=e(228),f=e(229),m=e(233),l=e(230),d=e(234),b=(e(242),e(231)),p=e.n(b);var v=function(n){function t(n){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(l.a)(t).call(this,n))).database=n.database,e.state={comments:{}},setInterval(function(){e.database.load()},1e3),e.database.onMessage(function(n){if("Delete"!==n.message.type){var t=n.signer+":"+n.message.id,a=Object(r.a)({},e.state.comments);a[t]=n,e.setState({comments:a})}}),e}return Object(d.a)(t,n),Object(f.a)(t,[{key:"sortedComments",value:function(){var n=[];for(var t in this.state.comments)n.push(this.state.comments[t]);return n.sort(function(n,t){return n.message.timestamp.localeCompare(t.message.timestamp)}),n}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"P2P Chat Proof Of Concept"),o.a.createElement(h,{database:this.database}),this.sortedComments().map(function(n,t){return o.a.createElement("p",{key:t},n.message.data.comment)}))}}]),t}(o.a.Component);function h(n){var t=Object(a.useState)(""),e=Object(u.a)(t,2),c=e[0],i=e[1];return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log("submitting ".concat(c));var e={comment:c};i(""),n.database.create(e)}},o.a.createElement("label",null,"Comment:",o.a.createElement("br",null),o.a.createElement("input",{type:"text",value:c,onChange:function(n){return i(n.target.value)}})),o.a.createElement("input",{type:"submit",value:"Submit"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(function(){var n=new p.a({network:"alpha",verbose:!0}).createNode().database("comments");return o.a.createElement("div",{className:"App"},o.a.createElement(v,{database:n}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[236,1,2]]]);
//# sourceMappingURL=main.16c9b637.chunk.js.map