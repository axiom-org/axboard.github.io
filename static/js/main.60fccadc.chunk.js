(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(n,t){},243:function(n,t,e){n.exports=e(510)},248:function(n,t,e){},249:function(n,t,e){},269:function(n,t){},305:function(n,t){},307:function(n,t){},322:function(n,t){},324:function(n,t){},332:function(n,t){},334:function(n,t){},344:function(n,t){},346:function(n,t){},354:function(n,t){},356:function(n,t){},364:function(n,t){},365:function(n,t){},367:function(n,t){},369:function(n,t){},371:function(n,t){},384:function(n,t){},389:function(n,t){},391:function(n,t){},400:function(n,t){},404:function(n,t){},405:function(n,t){},406:function(n,t){},413:function(n,t){},415:function(n,t){},420:function(n,t){},424:function(n,t){},425:function(n,t){},428:function(n,t){},434:function(n,t){},437:function(n,t){},439:function(n,t){},451:function(n,t){},453:function(n,t){},466:function(n,t){},468:function(n,t){},482:function(n,t){},484:function(n,t){},497:function(n,t){},499:function(n,t){},506:function(n,t){},510:function(n,t,e){"use strict";e.r(t);var a=e(13),o=e.n(a),c=e(234),i=e.n(c),u=(e(248),e(239)),r=e(242),s=e(235),f=e(236),m=e(240),l=e(237),d=e(241),b=(e(249),e(238)),p=e.n(b);var v=function(n){function t(n){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(l.a)(t).call(this,n))).database=n.database,e.state={comments:{}},setInterval(function(){e.database.load()},1e3),e.database.onMessage(function(n){if("Delete"!==n.message.type){var t=n.signer+":"+n.message.id,a=Object(r.a)({},e.state.comments);a[t]=n,e.setState({comments:a})}}),e}return Object(d.a)(t,n),Object(f.a)(t,[{key:"sortedComments",value:function(){var n=[];for(var t in this.state.comments)n.push(this.state.comments[t]);return n.sort(function(n,t){return n.message.timestamp.localeCompare(t.message.timestamp)}),n}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"P2P Chat Proof Of Concept"),o.a.createElement(h,{database:this.database}),this.sortedComments().map(function(n,t){return o.a.createElement("p",{key:t},n.message.data.comment)}))}}]),t}(o.a.Component);function h(n){var t=Object(a.useState)(""),e=Object(u.a)(t,2),c=e[0],i=e[1];return o.a.createElement("form",{onSubmit:function(t){t.preventDefault(),console.log("submitting ".concat(c));var e={comment:c};i(""),n.database.create(e)}},o.a.createElement("label",null,"Comment:",o.a.createElement("br",null),o.a.createElement("input",{type:"text",value:c,onChange:function(n){return i(n.target.value)}})),o.a.createElement("input",{type:"submit",value:"Submit"}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(function(){var n=new p.a({network:"alpha",verbose:!0}).createNode().database("comments");return o.a.createElement("div",{className:"App"},o.a.createElement(v,{database:n}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[243,1,2]]]);
//# sourceMappingURL=main.60fccadc.chunk.js.map